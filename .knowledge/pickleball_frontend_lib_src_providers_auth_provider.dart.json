{"is_source_file": true, "format": "Dart", "description": "This file contains the AuthProvider class which manages authentication state, including login, logout, signup, and persistent storage of user info and tokens in a Flutter application.", "external_files": ["../models/user.dart", "../services/api_client.dart", "package:flutter/foundation.dart", "package:shared_preferences/shared_preferences.dart"], "external_methods": ["SharedPreferences.getString", "SharedPreferences.setString", "SharedPreferences.remove", "notifyListeners"], "published": ["AuthProvider"], "classes": [{"name": "AuthProvider", "description": "Manages authentication state, token, user profile/role, and provides methods for login, signup, loading from storage, and logout."}], "methods": [{"name": "loadFromStorage", "description": "Loads token and user details from local storage."}, {"name": "login", "description": "Attempts to authenticate the user with provided email and password, then persists token and user info."}, {"name": "signup", "description": "Creates a new user account and logs in immediately afterward."}, {"name": "logout", "description": "Clears authentication state and removes stored user data."}, {"name": "_persist", "description": "Persists current token and user info into local storage."}, {"name": "copyWith", "description": "Creates a copy of AppUser with optional updated fields."}], "calls": ["ApiClient.login", "ApiClient.signup", "SharedPreferences.getString", "SharedPreferences.setString", "SharedPreferences.remove"], "search-terms": ["auth_state_management", "flutter_auth_provider", "shared_preferences_auth", "user_authentication", "token_storage", "FlutterChangeNotifier"], "state": 2, "file_id": 26, "knowledge_revision": 58, "git_revision": "", "hash": "23b0401350fffea8683b7c47df7954d8", "format-version": 4, "code-base-name": "pickleball_frontend", "filename": "pickleball_frontend/lib/src/providers/auth_provider.dart", "revision_history": [{"58": ""}]}